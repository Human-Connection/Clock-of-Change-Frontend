!function(e){var a={};function t(r){if(a[r])return a[r].exports;var o=a[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var o in e)t.d(r,o,function(a){return e[a]}.bind(null,o));return r},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="/",t(t.s=0)}([function(e,a){window.coc=function(e,a,t){var r={},o=t(".coc-form-overlay"),n="Ich bin für Veränderung.",s="https://tools.human-connection.org/avataaars/composite",c=t(".user-image"),l=t("#user-message"),d=0,u=0,p=null,g=!1,f=[],m=[],h=[],v=[],y=[],b=[],w=[],k=0,C=[];C.hair=0,C.eyebrow=0,C.eyes=0,C.nose=0,C.mouth=0,C.facialHair=0,C.clothing=0;var x=[];x.firstname="coc-firstname",x.lastname="coc-lastname",x.email="coc-email",x.message="coc-message",x.country="coc-country",x.anon="coc-anon",x.beta="coc-register-beta",x.nl="coc-register-nl",x.pr="coc-register-privacy",x.file="coc-add-avatar",x.error="form-error";var j=function(e){var o=t(this).data("message"),s=t(this).data("uname"),i=t(this).data("anon"),c=t(this).attr("src"),u=this.parentElement,p=t(this).data("country");d=function(e,a){var t,r=a.length;for(t=0;t<r;t++)if(a[t]===e)return t;return-1}(u,a.getElementsByClassName("user-item")),l.find(".user-message-image").attr("src",c),void 0!==i&&1===i&&(s="Mensch"),l.find(".message-name").text(s),""===o&&(o=n),l.find(".message-text").text(o),r.loadCountryFlagImage(p),l.show()};return r.ownImageChangeHandler=function(){var e=this;t("#ownImageUpload").on("change",(function(a){if(a.target.files&&a.target.files[0]){p=a.target.files;var r=new FileReader;r.onload=function(e){t("#coc-image").attr("src",e.target.result).width(200).height(200)},r.readAsDataURL(a.target.files[0]),g=!0,t("#avatar-wrapper").html(""),t("#add-avatar-icon").removeClass("fa-close"),t("#add-avatar-icon").addClass("fa-plus")}t(e).val("")})),t("#customUploadWrap").on("click",(function(e){t("#ownImageUpload").trigger("click"),g=!0,e.preventDefault()}))},r.init=function(){r.loadCountries();var o=a.querySelector(".display .digits");o&&(u=o.getAttribute("data-amount")),t("#joinCoC").click((function(e){r.updateCounter(),r.toggleForm(),e.preventDefault()})),t(".coc-form-close").click((function(){r.toggleForm()})),t("#coc-add-avatar .add-avatar-wrapper").click((function(){var e=t("#avatar-wrapper"),a=t("#add-avatar-icon");g=!1,""===e.html()?(e.show(),a.removeClass("fa-plus"),a.addClass("fa-close"),t("#avatar-wrapper").append('<div class="fusion-tabs fusion-tabs-2 classic horizontal-tabs icon-position-left"><div class="nav"><ul class="nav-tabs nav-justified" id="selection-cat-tabs"><li class="active"><a class="tab-link" id="hair-tab" data-toggle="tab" href="#hair" role="tab" aria-controls="hair" aria-selected="false">Haare</a></li><li><a class="tab-link" id="eyebrow-tab" data-toggle="tab" href="#eyebrow" role="tab" aria-controls="eyebrow" aria-selected="false">Augenbrauen</a></li><li><a class="tab-link" id="eyes-tab" data-toggle="tab" href="#eyes" role="tab" aria-controls="eyes" aria-selected="false">Augen</a></li><li><a class="tab-link" id="mouth-tab" data-toggle="tab" href="#mouth" role="tab" aria-controls="mouth" aria-selected="true">Mund</a></li><li><a class="tab-link" id="facialHair-tab" data-toggle="tab" href="#facialHair" role="tab" aria-controls="facialHair" aria-selected="false">Barthaar</a></li><li><a class="tab-link" id="clothing-tab" data-toggle="tab" href="#clothing" role="tab" aria-controls="clothing" aria-selected="true">Kleidung</a></li></ul></div></div>'),t("#avatar-wrapper").append('<div class="tab-content" id="selection-tabs"></div>'),t.each(cocVars.avatars,(function(e,a){var r=!0;t("#avatar-wrapper #selection-tabs").append('<div class="tab-pane fade fusion-clearfix" id="'+e+'" role="tabpanel" aria-labelledby="'+e+'-tab"><div class="selection-wrapper"><div class="selection-'+e+'"></div><div class="control-wrapper"><div class="go-left-wrapper pull-left disabled" data-prop="'+e+'"><i class="switch-action fas fa-caret-left"></i></div><div class="go-right-wrapper pull-right" data-prop="'+e+'"><i class="switch-action fas fa-caret-right"></i></div></div></div></div>'),"hair"==e&&t("#"+e).addClass("active in"),t.each(a,(function(a,o){var n;switch(!0===r?(r=!1,t(".selection-"+e).append('<div class="opt-wrapper" style="text-align:center;"><img src="'+o.url+'" alt="avatar" /></div>')):t(".selection-"+e).append('<div class="opt-wrapper" style="text-align:center;display:none;"><img src="'+o.url+'" alt="avatar" /></div>'),e){case"hair":n=f;break;case"eyebrow":n=m;break;case"eyes":n=h;break;case"nose":n=v;break;case"mouth":n=y;break;case"facialHair":n=b;break;case"clothing":n=w}n.push(o.name)}))})),t("#coc-image").attr("src",s+"?hair="+f[C.hair]+"&eyebrow="+m[C.eyebrow]+"&eyes="+h[C.eyes]+"&nose="+v[C.nose]+"&mouth="+y[C.mouth]+"&facialHair="+b[C.facialHair]+"&clothing="+w[C.clothing]),t(".go-left-wrapper").click((function(){var e=t(this).data("prop"),a=t(".selection-"+e).find(".opt-wrapper");C[e]>0?(a[C[e]].style.display="none",C[e]--,a[C[e]].style.display="block",t("#coc-image").attr("src",s+"?hair="+f[C.hair]+"&eyebrow="+m[C.eyebrow]+"&eyes="+h[C.eyes]+"&nose="+v[C.nose]+"&mouth="+y[C.mouth]+"&facialHair="+b[C.facialHair]+"&clothing="+w[C.clothing]),t(this).removeClass("disabled")):t(this).addClass("disabled"),C[e]<=0&&t(this).addClass("disabled"),C[e]<a.length-1&&t(this).parent().find(".go-right-wrapper").removeClass("disabled")})),t(".go-right-wrapper").click((function(){var e=t(this).data("prop"),a=t(".selection-"+e).find(".opt-wrapper");a.length-1==C[e]?t(this).addClass("disabled"):(a[C[e]].style.display="none",C[e]++,a[C[e]].style.display="block",t("#coc-image").attr("src",s+"?hair="+f[C.hair]+"&eyebrow="+m[C.eyebrow]+"&eyes="+h[C.eyes]+"&nose="+v[C.nose]+"&mouth="+y[C.mouth]+"&facialHair="+b[C.facialHair]+"&clothing="+w[C.clothing]),t(this).removeClass("disabled")),C[e]>=1?t(this).parent().find(".go-left-wrapper").removeClass("disabled"):t(this).parent().find(".go-left-wrapper").addClass("disabled")}))):(e.html(""),a.removeClass("fa-close"),a.addClass("fa-plus"))})),t("#joinNowBtn").click((function(a){a.preventDefault(),Object.values(x).forEach((function(e){t("#"+e)&&t("#"+e).removeClass("input-error")})),t(".form-error-hint").remove();var o=new FormData,n=t("#coc-email"),s=t("#coc-message"),i=t("#coc-firstname"),c=t("#coc-register-privacy")[0].checked;!0===g?null!=p&&o.append("image",p[0]):o.append("imageUrl",t("#coc-image").attr("src")),o.append("firstname",i.val()),o.append("lastname",t("#coc-lastname").val()),o.append("email",n.val()),o.append("message",s.val()),o.append("country",t("#coc-country").val()),o.append("anon",t("#coc-anon")[0].checked),o.append("beta","0"),o.append("nl",t("#coc-register-nl")[0].checked),o.append("pr",c),t.urlParam=function(a){var t=new RegExp("[?&]"+a+"=([^&#]*)").exec(e.location.search);return null==t?0:t[1]||0},o.append("pax",t.urlParam("pax")),t.ajax({url:cocVars.ajax_url+"coc/v2/createEntry/",method:"POST",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",cocVars.nonce)},success:function(a){null!==a&&!0===a.success?(new PNotify({title:"Das hat geklappt!",text:"DANKE, dass DU dabei bist. JEDER EINZELNE ZÄHLT! Bitte bestätige jetzt Deine Emailadresse.",addclass:"stack-bottomright",stack:{dir1:"up",dir2:"left",push:"top"}}),r.toggleForm(),setTimeout((function(){e.location.reload()}),3e3)):(null!==a&&Object.keys(a).forEach((function(e){"success"===e&&"error"===e||t("#"+x[e])&&(t("#"+x[e]).addClass("input-error"),(t("#"+x[e]).next().length?t("#"+x[e]).next():t("#"+x[e])).after('<p class="form-error-hint">'+a[e]+"</p>"))})),new PNotify({title:"Ups! Das geht schief!",text:"Bitte probiere es erneut!",addclass:"stack-bottomright",stack:{dir1:"up",dir2:"left",push:"top"}}))},data:o,cache:!1,dataType:"json",processData:!1,contentType:!1})})),t(".user-image").on("click",j),t(".close-wrapper").find(".fa-times").on("click",(function(){l.hide()})),t("#loadMore").on("click",(function(e){k+=1;var a={};a.offset=k,a.profileImage=t("#profileImage").prop("checked")?1:0,a.orderByDate="asc"===t("#orderByDate").val()?"asc":"desc",t.ajax({url:cocVars.ajax_url+"coc/v2/getEntries/?"+t.param(a),method:"GET",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",cocVars.nonce)},success:function(e){if(e.length<81&&t("#loadMore").hide(),e.length>0){for(var a=0;a<e.length;a++){var r=e[a],o=r.firstname,n=r.message,s=""===r.image?cocVars.homeUrl+"/wp-content/plugins/coc/assets/images/coc-placeholder.jpg":r.image,i=r.country,l='<img class="user-image" data-anon="'+r.anon+'" data-uname="'+o+'" data-message="'+n+'" data-country="'+i+'" style="width:100%;margin-top:5px;" alt="signer-image" src="'+s+'" />';t(".user-container").append('<div class="user-item">'+l+"</div>"),c.push(l)}t(".user-image").on("click",j)}else t("#loadMore").hide()},cache:!1}),e.preventDefault()})),t("#profileImage, #orderByDate").on("change",(function(e){var a={};a.profileImage=t("#profileImage").prop("checked")?1:0,a.orderByDate="asc"===t("#orderByDate").val()?"asc":"desc",t.ajax({url:cocVars.ajax_url+"coc/v2/getEntries/?"+t.param(a),method:"GET",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",cocVars.nonce)},success:function(e){if(e.length<81&&t("#loadMore").hide(),e.length>0){t(".user-container").html("");for(var a=0;a<e.length;a++){var r=e[a],o=r.firstname,n=r.message,s=""===r.image?cocVars.homeUrl+"/wp-content/plugins/coc/assets/images/coc-placeholder.jpg":r.image,i=r.country,l='<img class="user-image loaded" data-anon="'+r.anon+'" data-uname="'+o+'" data-message="'+n+'" data-country="'+i+'" style="width:100%;margin-top:5px;" alt="signer-image" src="'+s+'" />';t(".user-container").append('<div class="user-item">'+l+"</div>"),c.push(l)}t(".user-image").on("click",j)}else t("#loadMore").hide()},cache:!1}),e.preventDefault()})),t("#prevMessage").on("click",r.prevMessage),t("#nextMessage").on("click",r.nextMessage),r.ownImageChangeHandler(),t("#country-rankings-load-more .load-more-link").on("click",(function(e){e.preventDefault(),t(".country-ranking-item.hidden").slice(0,12).each((function(e,a){t(a).removeClass("hidden")})),0===t(".country-ranking-item.hidden").length&&t("#country-rankings-load-more").hide(),setTimeout((function(){t([a.documentElement,a.body]).animate({scrollTop:t("#country-rankings-load-more").offset().top},1e3)}),150)}))},t(e).off("keyup").on("keyup",(function(e){27===e.which&&(r.closeForm(),r.closeUserOverlay()),37===e.which&&r.prevMessage(),39===e.which&&r.nextMessage()})),r.toggleForm=function(){"block"===o.css("display")?o.hide():o.show()},r.resetForm=function(){},r.closeForm=function(){o.hide()},r.resetForm=function(){},r.closeUserOverlay=function(){l.hide()},r.loadCountryFlagImage=function(e){var a=l.find(".message-country");if(a.html(""),2===e.length){var t=cocVars.homeUrl+"/wp-content/plugins/coc/assets/images/flags/"+e.toLowerCase()+".png",o=r.getCountryNameByCountryCode(e);a.addClass("loaded"),a.html('<img src="'+t+'" title="Eintrag kommt aus '+o+'" alt="Eintrag kommt aus '+o+'" height="35">')}},r.loadCountries=function(){t.getJSON(cocVars.homeUrl+"/wp-content/plugins/coc/assets/js/countries.json",(function(e){r.countries=e}))},r.getCountryNameByCountryCode=function(e){return e.toUpperCase(),e in r.countries?r.countries[e]:""},r.updateCounter=function(){var e=["zero","one","two","three","four","five","six","seven","eight","nine"];console.log(12345);var r={};if(r.offset=k,r.profileImage=t("#profileImage").prop("checked")?1:0,r.orderByDate="asc"===t("#orderByDate").val()?"asc":"desc",t.ajax({url:cocVars.ajax_url+"coc/v2/getCount",method:"GET",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",cocVars.nonce)},success:function(e){console.log(e)},cache:!1}),console.log(digitElements),Number.parseInt(u)>0&&12345!==Number.parseInt(u)){var o=12345..toString().padStart(8,"0"),n=a.querySelectorAll(".digits .number");for(i=0;i<n.length;i++)n[i].firstChild.className=e[o[i]]}},r.prevMessage=function(){d<=0?d=c.length-1:d--;var e=t(c[d]),a=e.data("message");""===a&&(a=n),l.find(".user-message-image").attr("src",e[0].src),l.find(".message-text").text(a);var o=e.data("uname");1===e.data("anon")&&(o="Mensch"),l.find(".message-name").text(o);var s=e.data("country");r.loadCountryFlagImage(s)},r.nextMessage=function(){d>=c.length-1?d=0:d++;var e=t(c[d]),a=e.data("message");""===a&&(a=n),l.find(".user-message-image").attr("src",e[0].src),l.find(".message-text").text(a);var o=e.data("uname");1===e.data("anon")&&(o="Mensch"),l.find(".message-name").text(o);var s=e.data("country");r.loadCountryFlagImage(s)},t(a).ready(r.init),r}(window,document,jQuery)}]);